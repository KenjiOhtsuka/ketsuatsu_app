<!-- ======= Graph Section ======= -->
<section id="graph-section" class="section-bg">
  <div class='container'>
    <div class='row'>
        <div class='col-12'>
          <div class="content-area">
            <div class="card-body">
              <canvas id="canvas"></canvas>
              <script>
              var config = {
                type: 'line',
                data: {
                  labels: <%= dates.to_json.html_safe %>,
                  datasets: [{
                    label: '最高血圧(朝)',
                    data: <%= m_sbp.to_json.html_safe %>,
                    borderWidth: 3,
                    borderColor: 'Tomato',
                    pointBorderColor: '#fff',
                    pointBackgroundColor: 'Tomato',
                    pointStyle: 'circle',
                    radius: 6,
                    fill: false,
                  }, {
                    label: '最低血圧(朝)',
                    data: <%= m_dbp.to_json.html_safe %>,
                    borderWidth: 3,
                    borderColor: 'Tomato',
                    pointBorderColor: '#fff',
                    pointBackgroundColor: 'Tomato',
                    pointStyle: 'rectRounded',
                    radius: 6,
                    fill: false,
                  }, {
                    label: '最高血圧(夜)',
                    data: <%= n_sbp.to_json.html_safe %>,
                    borderWidth: 3,
                    borderColor: '#66ccff',
                    pointBorderColor: '#fff',
                    pointBackgroundColor: '#66ccff',
                    pointStyle: 'circle',
                    radius: 6,
                    fill: false,
                  }, {
                    label: '最低血圧(夜)',
                    data: <%= n_dbp.to_json.html_safe %>,
                    borderWidth: 3,
                    borderColor: '#66ccff',
                    pointBorderColor: '#fff',
                    pointBackgroundColor: '#66ccff',
                    pointStyle: 'rectRounded',
                    radius: 6,
                    fill: false,
                  }]
                },
                options: {
                  responsive: true,
                  title: {
                    display: true,
                    text: 'Chart.js Line Chart'
                  },
                  tooltips: {
                    mode: 'index',
                    intersect: false,
                  },
                  hover: {
                    mode: 'nearest',
                    intersect: true,
                  },
                  scales: {
                    xAxes: [{
                      display: true,
                      scaleLabel: {
                        display: true,
                      },
                      ticks: {
                        minRotation: 0,   // ┐表示角度水平
                        maxRotation: 0,   // ┘
                        maxTicksLimit: 7  // 最大表示数
                      }
                    }],
                    yAxes: [{
                      scaleLabel: {
                        display: true,
                        labelString: '血圧値(mmHg)'
                      },
                      ticks: {
                        min: 50,
                        max: 200,
                        stepSize: 50
                      }
                    }]
                  }
                }
              };

              window.onload = function() {
                var ctx = document.getElementById('canvas').getContext('2d');
                window.myLine = new Chart(ctx, config);
              };
              </script>
            </div>
          </div>
        </div>
     </div>
  </div>
</section><!-- End Graph Section -->
